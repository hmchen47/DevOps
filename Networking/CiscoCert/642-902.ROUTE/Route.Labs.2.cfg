
! #########################################################################
! Lab 2-1 EIGRP Configuration, Bandwidth, and Adjacencies
!
! File: RTR.Lab.2-1.EIGRP.Config.BW.Adj
!
! Procedures:
! 1. Configure addressing ad loopbacks
! 2. Configure EIGRP on the Ethernet network
!   a. Config EIGRP on R1
!   b. Verifying EIGRP flow
!   c. Turn off debug
!   d. Verify interfaces in EIGRP
!   e. Configure EIGRP on R2 with packet flow observation
!   f. Configure EIRGP on R3
! 3. Verify EIGRP configuration
!   a. Verify neighbor table
!   b. Verify topology table
!   c. Verify routing table
!   d. Verify connectivity
! 4. Configure EIGRP on R1 & R2 serial interfaces
!   a. Configure and Verify serial interfaces with R1 as DCE
!   b. Configure bandwidth = 64 kbps
!   c. Verify bandwidth configuration
!   d. Verify EIGRP neighbor
! 5. Configure network statement wildcard masks
!   a. Configure loopback inetrfaces on R3
!   b. Configure EIGRP on R3
!   c. Verify EIGRP inetrfaces on R3
!   d. Verify EIGRP routes on R1
!   e. Verify protocols on R3
! 6. Challenge - Topology Change
!   a. Verify routing tables on R2 & R3
!   b. Trace path to R1 Lo0 on R3
!   c. Verify conncetivity to R1 Lo0 on R3 with high repeat count
!   d. Shutdown R1 f0/0 to observe the connectivity on R3
!   e. Trace path to R1 from R3
!   f. Repeat ping from R3  and shut down f0/0 on R1 
!
! 1. Configure addressing ad loopbacks
!
! R1
int lo1
 desc Engineering Department
 ip add 10.1.1.1 255.255.255.0

int f0/0
 desc R1 --> SW1
 ip add 10.1.100.1 255.255.255.0
 no shut

! R2
int lo2
 desc Marketing Department
 ip add 10.1.2.1 255.255.255.0

int f0/0
 desc R2 --> SW1
 ip add 10.1.100.2 255.255.255.0
 no shut

! R3
int lo3
 desc Accounting Department
 ip add 10.1.3.1 255.255.255.0
 
int f0/0
 desc R3 --> SW1
 ip add 10.1.100.3 255.255.255.0
 no shut

! Verify on R1
do sh ip int bri

! 2. Configure EIGRP on the Ethernet network
!  a. Config EIGRP on R1
!  b. Verifying EIGRP flow
!  c. Turn off debug
!  d. Verify interfaces in EIGRP
!
! R1
router eig 1
 net 10.0.0.0
 no au

do deb eigrp packets

do un all

do sh ip eig interfaces

! e. Configure EIGRP on R2 with packet flow observation
do deb eig packet

router eig 1
 net 10.0.0.0

do un all

! f. Configure EIRGP on R3
router eig 1
 net 10.0.0.0 

! 3. Verify EIGRP configuration
!   a. Verify neighbor table
!   b. Verify topology table
!   c. Verify routing table
!   d. Verify connectivity
!
! R1 ~ R3
do sh ip eig nei

do sh ip eig top

do sh ip rou eig

end
tclsh

foreach addr {
 10.1.1.1 
 10.1.2.1
 10.1.3.1
} { ping $addr }

exit
conf t

! 4. Configure EIGRP on R1 & R2 serial interfaces
!  a. Configure and Verify serial interfaces with R1 as DCE
!
! R1
int s0/0
 desc R1 --> R2
 ip add 10.1.200.1 255.255.255.0
 clock rate 64000
 no shut

do sh int s0/0

! R2
int s0/0
 desc R2 --> R1
 ip add 10.1.200.2 255.255.255.0
 no shut

do sh int s0/0

! b. Configure bandwidth = 64 kbps on R1 & R2
!
int s0/0
 band 64

! c. Verify bandwidth configuration
do sh int s0/0

! d. Verify EIGRP neighbor
do sh ip eig nei

! 5. Configure network statement wildcard masks
!  a. Configure loopback inetrfaces on R3
!  b. Configure EIGRP on R3
!  c. Verify EIGRP inetrfaces
int lo11
 ip add 192.168.100.1 255.255.255.0

int lo15
 ip add 192.168.100.5 255.255.255.0

router eig 1
 net 192.168.100.0 0.0.0.3

do sh eig int

! d. Verify EIGRP routes on R1
do sh ip rou eig

!   e. Verify protocols
do sh ip pro

! 6. Challenge - Topology Change
!  a. Verify routing tables on R2 & R3
do sh ip rou eig

! b. Trace path to R1 Lo0 on R3
do trace 10.1.1.1

! c. Verify conncetivity to R1 Lo0 on R3 with high repeat count
do pi 10.1.1.1 repeat 10000

! d. Shutdown R1 f0/0 to observe the connectivity on R1
int f0/0
 shut

! e. Trace path to R1 from R3
do trace 10.1.1.1

! f. Repeat ping from R3  and shut down f0/0 on R1 
do pi 10.1.1.1 rep 10000

! R1
int f0/0
 no shut

! #########################################################################
! Lab 2-2 EIGRP Load Balancing
!
! File: RTR.Lab.2-2.EIGRP.Load.Balace
!
! Procedures:
! 1. Configure addressing and loopbacks
!   a. Configure loopback interfaces
!   b. Configure serial interfaces 
!   c. Verify connectivity
!   d. Dispaly beief lists of interfaces
!   e. Verify protocol on interfaces
! 2. Configure EIGRP
!   a. Configure EIGRP on R1 & R2
!   b. Verifying EIGRP flow and Configure EIGRP on R3
!   c. Verify routing tbale on R1
!   d. Verify connectivity with tclsh
!   e. Verify EIGRP neighbors
! 3. Examine the EIGRP topology tabl
!   a. Verify topology table on R3
!   b. Explain the composite metrics to 10.1.102.0
!   c. Verify topology of 10.1.102.0/29
! 4. Observe equal-cost load balancing
!   a. Trace R1 s0/0 from R3
!   b. Disable CEF adn route cache on R3
!   c. Observe packet flow to R1 s0/0 
! 5. Alnalyze alternative EIGRP paths not in the topology table
!   a. Expect path list from R3
!   b. Observe the paths with topology table
!   c. Observe paths to Lo21 from R3
!   d. Issue high repeat count ping to R1 s0/0 
!   e. Dhutdown R1 s0/1
!   f. Observer the pinging and interrupt with ctrl+shift+^
! 6. Observe unequal-cost load balancing from R3
!   a. Display metrics of paths to 10.1.2.0/30
!   b. Modify the bandwidth as 128 kbps on R1
!   c. Observe changes of paths
!   d. Verify routing table
!   e. Observe EIGRP packet flow while modify variance
!   f. Verify the routing table
!   g. Verify paths 
!   h. Obverse the paths with traffic counts
!   i. Check actual load balancing with debug
!   j. filter the debug output 
!
!
! 1. Configure addressing and loopbacks
!  a. Configure loopback interfaces
!
! R1
int lo11
 ip add 10.1.1.1 255.255.255.252
int lo15
 ip add 10.1.1.5 255.255.255.252
int lo19
 ip add 10.1.1.9 255.255.255.252

! R2
int lo21
 ip add 10.1.2.1 255.255.255.252
int lo25
 ip add 10.1.2.5 255.255.255.252
int lo29
 ip add 10.1.2.9 255.255.255.252

! R3
int lo31
 ip add 10.1.3.1 255.255.255.252
int lo35
 ip add 10.1.3.5 255.255.255.252
int lo39
 ip add 10.1.3.9 255.255.255.252

! b. Configure serial interfaces
! R1
int s0/0
 desc R1-->R2
 clo rat 64000
 band 64
 ip add 10.1.102.1 255.255.255.248
 no shut

int s0/1
 desc R1-->R3
 clo rat 64000
 band 64
 ip add 10.1.103.1 255.255.255.248
 no shut

! R2
int s0/0
 desc R2-->R1
 clo rat 64000
 band 64
 ip add 10.1.102.2 255.255.255.248
 no shut

int s0/1
 desc R2-->R3
 clo rat 64000
 band 64
 ip add 10.1.203.2 255.255.255.248
 no shut
 
! R3
int s0/0
 desc R3-->R1
 clo rat 64000
 band 64
 ip add 10.1.103.3 255.255.255.248
 no shut

int s0/1
 desc R3-->R2
 clo rat 64000
 band 64
 ip add 10.1.203.3 255.255.255.248
 no shut
 
! c. Verify connectivity

! d. Dispaly brief lists of interfaces
! e. Verify protocol on interfaces
do sh int desc

do sh pro

! 2. Configure EIGRP
!  a. Configure EIGRP on R1 & R2
router eig 100
 net 10.0.0.0

! b. Verifying EIGRP flow and Configure EIGRP on R3
do deb ip eig 100

router eig 100
 net 10.0.0.0

! c. Verify routing tbale on R1
do sh ip rou

! d. Verify connectivity with tclsh
end
tclsh

foreach addr {
 10.1.1.1
 10.1.1.5
 10.1.1.9
 10.1.2.1
 10.1.2.5
 10.1.2.9
 10.1.3.1
 10.1.3.5
 10.1.3.9
 10.1.102.1
 10.1.102.2
 10.1.103.1
 10.1.103.3
 10.1.203.2
 10.1.203.3
} { ping $addr}

exit 

conf t

! e. Verify EIGRP neighbors on R1 ~ R3
do sh ip eig nei

! 3. Examine the EIGRP topology table
!  a. Verify topology table on R3
do sh ip eig top

! b. Explain the composite metrics to 10.1.102.0
! c. Verify topology of 10.1.102.0/29 on R3
do sh ip eig top 10.1.102.0/29

! 4. Observe equal-cost load balancing
!  a. Trace R1 s0/0 from R3
do tarce 10.1.102.1

! b. Disable CEF adn route cache on R3
no ip cef

int s0/0
 no ip route-cache
int s0/1
 no ip route-cache

! c. Observe packet flow to R1 s0/0 on R3
do deb up packet

do pi 10.1.102.1

! 5. Alnalyze alternative EIGRP paths not in the topology table
!  a. Expect path list from R3
!  b. Observe the paths with topology table
do sh ip eig top all-links

! c. Observe paths to Lo21 from R3
! d. Issue high repeat count ping to R1 s0/0 
do sh ip eig top 10.1.2.0/30

do pi 10.1.102.1 repeat 10000

! e. Shutdown R1 s0/1
int s0/1
 shut

! f. Observer the pinging and interrupt with ctrl+shift+^
do pi 10.1.102.1 repeat 10000

int s0/1
 no shut

! 6. Observe unequal-cost load balancing from R3
!  a. Display metrics of paths to 10.1.2.0/30
do sh ip eig top 10.1.2.0/30

!  b. Modify the bandwidth as 128 kbps
! 
! R1
int s0/0
 band 128
 clo rate 128000

int s0/1
 band 128

! R2
int s0/0
 band 128

! R3
int s0/0
 clock rate 128000
 band 128

! c. Observe changes of paths
! d. Verify routing table
! e. Observe EIGRP packet flow while modify variance
! f. Verify the routing table
! g. Verify paths 
! h. Obverse the paths with traffic counts
! i. Check actual load balancing with debug
! j. filter the debug output 
!
! R3
do sh ip eig top 10.1.2.0/30

do sh ip rou eig

do deb ip eig 100

router eig 100
 varience 2

do sh ip rou eig 

do sh ip eig top

do sh ip rou 10.1.2.0

access-list 100 permit icmp any any echo

do deb ip packet 100

do pi 10.1.2.1 repeat 50


! 
! Runnung Configuration
!
! R1
interface Loopback11
 ip address 10.1.1.1 255.255.255.252
!
interface Loopback15
 ip address 10.1.1.5 255.255.255.252
!
interface Loopback19
 ip address 10.1.1.9 255.255.255.252
!
interface Serial0/0
 description R1-->R2
 bandwidth 128
 ip address 10.1.102.1 255.255.255.248
 clock rate 128000
!
interface Serial0/1
 description R1-->R3
 bandwidth 128
 ip address 10.1.103.1 255.255.255.248
 clock rate 64000
!
router eigrp 100
 network 10.0.0.0
 auto-summary

! R2
interface Loopback21
 ip address 10.1.2.1 255.255.255.252
!
interface Loopback25
 ip address 10.1.2.5 255.255.255.252
!
interface Loopback29
 ip address 10.1.2.9 255.255.255.252
!
interface Serial0/0
 description R2-->R1
 bandwidth 128
 ip address 10.1.102.2 255.255.255.248
 clock rate 64000
!
interface Serial0/1
 description R2-->R3
 bandwidth 64
 ip address 10.1.203.2 255.255.255.248
 clock rate 64000
!
router eigrp 100
 network 10.0.0.0
 auto-summary

! R3
interface Loopback39
 ip address 10.1.3.9 255.255.255.252
!
interface Serial0/0
 description R3-->R1
 bandwidth 128
 ip address 10.1.103.3 255.255.255.248
 no ip route-cache
 clock rate 128000
!
interface Serial0/1
 description R3-->R2
 bandwidth 64
 ip address 10.1.203.3 255.255.255.248
 no ip route-cache
 clock rate 64000
!
router eigrp 100
 variance 2
 network 10.0.0.0
 auto-summary


! #########################################################################
! Lab 2-3 EIGRP Summarization and Default Network Advertisement
!
! File: RTR.Lab.2-3.EIGRP.Summary.Default,Network
!
! Procedures:
! 1. Configure addressing and serial links
!   a. Configure interfaces and EIGRP
!   b. Verify EIGRP neighbors
!   c. Verify connectivity with tclsh
! 2. Analyze summarization options
!   a. Explain how many major networks?
!   b. Reasons for summarizations
!   c. Exercise for summarization
!   d. Verify EIGRP routes on R1~R3
!   e. Check the size of routing table
! 3. Configure EIGRP auto-summarization
!   a. Verify the auto-summarization setting
!   b. Enable EIGRP route and sumamry debugging on R1~R3
!   c. Configure auto-summarization on R3
!   d. Verify EIGRP routes on R2
!   e. Verify EIGRP routes on R3
!   f. Turn on auto-summarization on R1 & R2
!   g. Observe topology table on R1~R3
! 4. Configure EIGRP manual summarization
!   a. What is the most efficient mask?
!   b. Configure summarization on R3 and Verify on R1~R3
! 5. Configure defuault network advertisement
!   a. Proposed solution
!   b. Configure default network on R1
!   c. Verify exterior flag on R2
!   d. Verify routing tbale on R1~R3
!   e~i. Analysis
! 6. Verify summarization and routing table efficiencies achieved
!   a. Verify summarization with protocols
!   b. Verify Connectivity
!   c. Observe memory usage with route summary on R1~R3
!   d. Total size of routing table reduced
! 
!
! 1. Configure addressing and serial links
!  a. Configure interfaces and EIGRP
! 
! R1
hostname R1
!
interface Loopback0
 ip address 172.31.1.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 192.168.100.1 255.255.255.248
 clock rate 64000
 no shutdown
!
router eigrp 100
 network 172.31.0.0
 network 192.168.100.0
 no auto-summary

! R2
hostname R2
!
interface Loopback1
 ip address 192.168.200.1 255.255.255.252
!
interface Loopback5
 ip address 192.168.200.5 255.255.255.252
!
interface Loopback9
 ip address 192.168.200.9 255.255.255.252
!
interface Loopback13
 ip address 192.168.200.13 255.255.255.252
!
interface Loopback17
 ip address 192.168.200.17 255.255.255.252
!
interface Loopback21
 ip address 192.168.200.21 255.255.255.252
!
interface Loopback25
 ip address 192.168.200.25 255.255.255.252
!
interface Serial0/0
 bandwidth 64
 ip address 192.168.100.2 255.255.255.248
 no shutdown
!
interface Serial0/1
 bandwidth 64
 ip address 10.1.1.2 255.255.255.248
 clock rate 64000
 no shutdown
!
router eigrp 100
 network 10.0.0.0
 network 192.168.100.0
 network 192.168.200.0
 no auto-summary

! R3
hostname R3
!
interface Loopback1
 ip address 192.168.1.1 255.255.254.0
!
interface Loopback5
 ip address 192.168.5.5 255.255.254.0
!
interface Loopback9
 ip address 192.168.9.9 255.255.254.0
!
interface Loopback13
 ip address 192.168.13.13 255.255.254.0
!
interface Loopback17
 ip address 192.168.17.17 255.255.254.0
!
interface Loopback21
 ip address 192.168.21.21 255.255.254.0
!
interface Loopback25
 ip address 192.168.25.25 255.255.254.0
!
interface Loopback100
 ip address 10.1.3.1 255.255.255.252
!
interface Loopback172
 ip address 172.16.1.1 255.255.255.0
!
interface Serial0/1
 bandwidth 64
 ip address 10.1.1.3 255.255.255.248
 no shutdown
!
router eigrp 100
 network 10.0.0.0
 network 172.16.0.0
 network 192.168.0.0 0.0.31.255
 no auto-summary

! b. Verify EIGRP neighbors on R1 ~ R3
do sh ip eig nei

! c. Verify connectivity with tclsh
end
tclsh

foreach addr {
 10.1.1.2
 10.1.1.3
 10.1.3.1
 172.16.1.1
 172.31.1.1
 192.168.1.1
 192.168.5.5
 192.168.9.9
 192.168.13.13
 192.168.17.17
 192.168.21.21
 192.168.25.25
 192.168.100.1
 192.168.200.1
 192.168.200.5
 192.168.200.9
 192.168.200.13
 192.168.200.17
 192.168.200.21
 192.168.200.25
 192.168.100.2
} { ping $addr }

exit
conf t

! 2. Analyze summarization options
!  a. Explain how many major networks?
!  b. Reasons for summarizations
!  c. Exercise for summarization
!  d. Verify EIGRP routes on R1~R3
do sh ip rou eig

! e. Check the size of routing table
do sh ip rou summary

! 3. Configure EIGRP auto-summarization
!  a. Verify the auto-summarization setting on R1
do sh ip pro

! b. Enable EIGRP route and sumamry debugging on R1~R3
do deb ip eig 100
do deb ip eig summary

! c. Configure auto-summarization on R3
router eig 100
 auto-summary

! d. Verify EIGRP routes on R2
do sh ip rou eig

! e. Verify EIGRP routes on R3
do sh ip rou eig 

do sh ip eig top

! f. Turn on auto-summarization on R1 & R2
router eig 100
 auto-summary

! g. Observe topology table on R1~R3
do sh ip eig top

! 4. Configure EIGRP manual summarization
!  a. What is the most efficient mask?
!  b. Configure summarization on R3 and Verify on R1~R3
!
! R3
int s0/1
 ip summary-address eigrp 100 192.168.0.0 255.255.224.0

! R1~R3
do sh ip rou

! 5. Configure defuault network advertisement
!  a. Proposed solution
!  b. Configure default network on R1
ip default-network 172.31.0.0

! c. Verify exterior flag on R2
do sh ip eig top 172.31.0.0/16

! d. Verify routing tbale on R1~R3
! e~i. Analysis
do sh ip rou

! 6. Verify summarization and routing table efficiencies achieved
!  a. Verify summarization with protocols on R1
do sh ip pro

! b. Verify Connectivity withtclsh in Step 1
! c. Observe memory usage with route summary on R1~R3
! d. Total size of routing table reduced
do sh ip rou summary

!
! Running Configuration
!
! R1
interface Loopback0
 ip address 172.31.1.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 192.168.100.1 255.255.255.248
 clock rate 64000
!         
interface Serial0/1
 no ip address
 shutdown
 clock rate 2000000
!
router eigrp 100
 network 172.31.0.0
 network 192.168.100.0
 auto-summary

! R2
interface Loopback1
 ip address 192.168.200.1 255.255.255.252
!
interface Loopback5
 ip address 192.168.200.5 255.255.255.252
!
interface Loopback9
 ip address 192.168.200.9 255.255.255.252
!
interface Loopback13
 ip address 192.168.200.13 255.255.255.252
!
interface Loopback17
 ip address 192.168.200.17 255.255.255.252
!
interface Loopback21
 ip address 192.168.200.21 255.255.255.252
!
interface Loopback25
 ip address 192.168.200.25 255.255.255.252
!
interface Serial0/0
 bandwidth 64
 ip address 192.168.100.2 255.255.255.248
 clock rate 2000000
!
interface Serial0/1
 bandwidth 64
 ip address 10.1.1.2 255.255.255.248
 clock rate 64000
!
router eigrp 100
 network 10.0.0.0
 network 192.168.100.0
 network 192.168.200.0
 auto-summary

! R3
interface Loopback1
 ip address 192.168.1.1 255.255.254.0
!
interface Loopback5
 ip address 192.168.5.5 255.255.254.0
!
interface Loopback9
 ip address 192.168.9.9 255.255.254.0
!
interface Loopback13
 ip address 192.168.13.13 255.255.254.0
!
interface Loopback17
 ip address 192.168.17.17 255.255.254.0
!
interface Loopback21
 ip address 192.168.21.21 255.255.254.0
!
interface Loopback25
 ip address 192.168.25.25 255.255.254.0
!
interface Loopback100
 ip address 10.1.3.1 255.255.255.252
!
interface Loopback172
 ip address 172.16.1.1 255.255.255.0
!
interface Serial0/0
 no ip address
 shutdown
 clock rate 2000000
!
interface Serial0/1
 bandwidth 64
 ip address 10.1.1.3 255.255.255.248
 ip summary-address eigrp 100 192.168.0.0 255.255.224.0 5
 clock rate 2000000
!
router eigrp 100
 network 10.0.0.0
 network 172.16.0.0
 network 192.168.0.0 0.0.31.255
 auto-summary



! #########################################################################
! Lab 2-4 EIGRP Frame Relay Hub-and-Spoke: Router Used as a FR Switch
!
! File: RTR.Lab.2-4.EIGRP.FR.Hub.Spoke
!
! Procedures:
! 1. Configure loopback addressing
! 2. Configure FR switch
! 3. Configure FR endpoints
!   a. Assign address to FR interface
!   b. Enable FR encapsulation
!   c. Verify connectivity
!   d. Configure local mapping
! 4. Set interfae-level bandwidth
!   a. Set bandwidth on serial links
!   b. Control bandwidth sharing
! 5. Configure EIGRP routing
!   a~b. Configure EIGRP
!   c. Verify EIGRP topology on EAST-R2
!   d. Turn off split horizon on HQ
!   e. Verify neighbor tables
!   f. Verify routing tables
!   g. Verify connectivity with tclsh
! 6. Configure non-broadcast EIGRP mode
!   a. Implement packet unicast to neighbors
!   b. Verify neighbors
! 7. Implement EIGRP manual summarization
!   a. What prefix length is used?
!   b. Verify topology table
! 
!
! 1. Configure loopback addressing
!
! R1
hostname HQ
!
interface Loopback1
 ip address 10.1.1.1 255.255.224.0
interface Loopback33
 ip address 10.1.33.1 255.255.224.0
interface Loopback65
 ip address 10.1.65.1 255.255.224.0
interface Loopback97
ip address 10.1.97.1 255.255.224.0
interface Loopback129
ip address 10.1.129.1 255.255.224.0
interface Loopback161
ip address 10.1.161.1 255.255.224.0

! R2
hostname EAST
!
interface Loopback1
 ip address 10.2.1.1 255.255.224.0
interface Loopback33
 ip address 10.2.33.1 255.255.224.0
interface Loopback65
 ip address 10.2.65.1 255.255.224.0
interface Loopback97
 ip address 10.2.97.1 255.255.224.0
interface Loopback129
 ip address 10.2.129.1 255.255.224.0
interface Loopback161
 ip address 10.2.161.1 255.255.224.0

! R4
hostname WEST
!
interface Loopback1
 ip address 10.3.1.1 255.255.224.0
interface Loopback33
 ip address 10.3.33.1 255.255.224.0
interface Loopback65
 ip address 10.3.65.1 255.255.224.0
interface Loopback97
 ip address 10.3.97.1 255.255.224.0
interface Loopback129
 ip address 10.3.129.1 255.255.224.0
interface Loopback161
 ip address 10.3.161.1 255.255.224.0

! 2. Configure FR switch
!
! R3
hostname FRS

frame-relay switching
!
interface Serial0/0
 description FR to HQ
 no ip address
 encapsulation frame-relay ietf
 clock rate 128000
 frame-relay lmi-type cisco
 frame-relay intf-type dce
 frame-relay route 102 interface Serial0/1 201
 frame-relay route 103 interface Serial0/2 301
 no shutdown
!
interface Serial0/1
 description FR to EAST
 no ip address
 encapsulation frame-relay ietf
 frame-relay lmi-type cisco
 frame-relay intf-type dce
 frame-relay route 201 interface Serial0/0 102
 no shutdown
!
interface Serial0/2
 description FR to WEST
 no ip address
 encapsulation frame-relay ietf
 clock rate 64000
 frame-relay lmi-type cisco
 frame-relay intf-type dce
 frame-relay route 301 interface Serial0/0 103
 no shutdown

! 3. Configure FR endpoints
!  a. Assign address to FR interface
!  b. Enable FR encapsulation
!
! R1 - HQ
int s0/0
 ip add 172.16.124.1 255.255.255.248
 enc fram ietf
 no frame-relay inverse-arp
 fram map ip 172.16.124.2 102 bor
 fram map ip 172.16.124.3 103 bor
 no shut

! R2 - EAST
int s0/0
 ip add 172.16.124.2 255.255.255.248
 enc fra ietf
 no frame-relay inverse-arp
 fram map ip 172.16.124.1 201 bro
 fram map ip 172.16.124.3 201 
 no shut

! R3 - WEST
int s0/0
 ip add 172.16.124.3 255.255.255.248
 enc fra ietf
 no frame-relay inverse-arp
 fram map ip 172.16.124.1 301 bro
 fram map ip 172.16.124.2 301 
 no shut

!  c. Verify connectivity on HQ
do pi 172.16.124.1

!  d. Configure local mapping
!
! R1
int s0/0
 fram map ip 172.16.124.1 102

! R2
int s0/0
 fram map ip 172.16.124.2 201
 
! R3
int s0/0
 fram map ip 172.16.124.3 301

! 4. Set interfae-level bandwidth
!  a. Set bandwidth on serial links
!
! R1
int s0/0
 band 128

! R2 & R4
int s0/0
 band 64

!  b. Control bandwidth sharing
! 
! R1
int s0/0
 ip bandwidth-percent eigrp 1 40

! 5. Configure EIGRP routing
!  a~b. Configure EIGRP on R1, R2, & R4
router eigrp 1
 net 10.0.0.0
 net 172.16.0.0
 no auto-summary

! c. Verify EIGRP topology on EAST-R2
do sh ip eig top

! d. Turn off split horizon on HQ
int s0/0
 no ip split-horizon eigrp 1

! e. Verify neighbor tables on R1, R2, & R4
do sh ip eig nei

! f. Verify routing tables on R1, R2, & R4
do sh ip rou

! g. Verify connectivity with tclsh

end
tclsh

foreach addr {
10.1.1.1
10.1.33.1
10.1.65.1
10.1.97.1
10.1.129.1
10.1.161.1
172.16.124.1
10.2.1.1
10.2.33.1
10.2.65.1
10.2.97.1
10.2.129.1
10.1.161.1
172.16.124.2
10.1.1.1
10.3.33.1
10.3.65.1
10.3.97.1
10.3.129.1
10.3.161.1
172.16.124.3
} { ping $addr }

exit
conf t

! 6. Configure non-broadcast EIGRP mode
!  a. Implement packet unicast to neighbors
!
! R1
router eig 1
 nei 172.16.124.2
 nei 172.16.124.3

! R2 & R4
router eig 1
 nei 172.16.124.1

! b. Verify neighbors on R1, R2, & R4
do sh ip eig nei

! 7. Implement EIGRP manual summarization
!  a. What prefix length is used?
! R1
int s0/0
 ip summary-address eigrp 1 10.1.0.0 255.255.0.0

! R2
int s0/0
 ip summary-address eigrp 1 10.2.0.0 255.255.0.0

! R3
int s0/0
 ip summary-address eigrp 1 10.3.0.0 255.255.0.0

!  b. Verify topology table
do sh ip eig top

! 
! IRunning Configuration
!
! R1
interface Loopback1
 ip address 10.1.1.1 255.255.224.0
!
interface Loopback33
 ip address 10.1.33.1 255.255.224.0
!
interface Loopback65
 ip address 10.1.65.1 255.255.224.0
!
interface Loopback97
 ip address 10.1.97.1 255.255.224.0
!
interface Loopback129
 ip address 10.1.129.1 255.255.224.0
!
interface Loopback161
 ip address 10.1.161.1 255.255.224.0
!
interface Serial0/0
 description HQ/R1-->FR
 bandwidth 128
 ip address 172.16.124.1 255.255.255.248
 encapsulation frame-relay IETF
 no ip split-horizon eigrp 1
 ip summary-address eigrp 1 10.1.0.0 255.255.0.0 5
 clock rate 2000000
 frame-relay map ip 172.16.124.1 102
 frame-relay map ip 172.16.124.2 102 broadcast
 frame-relay map ip 172.16.124.3 103 broadcast
!
router eigrp 100
 auto-summary
!
router eigrp 1
 network 10.0.0.0
 network 172.16.0.0
 no auto-summary
 neighbor 172.16.124.3 Serial0/0
 neighbor 172.16.124.2 Serial0/0

! R2
interface Loopback1
 ip address 10.2.1.1 255.255.224.0
!
interface Loopback33
 ip address 10.2.33.1 255.255.224.0
!
interface Loopback65
 ip address 10.2.65.1 255.255.224.0
!
interface Loopback97
 ip address 10.2.97.1 255.255.224.0
!
interface Loopback129
 ip address 10.2.129.1 255.255.224.0
!
interface Loopback161
 ip address 10.2.161.1 255.255.224.0
!
interface Serial0/0
 description WEST/R2-->FR
 bandwidth 64
 ip address 172.16.124.2 255.255.255.248
 encapsulation frame-relay IETF
 ip summary-address eigrp 1 10.2.0.0 255.255.0.0 5
 clock rate 2000000
 frame-relay map ip 172.16.124.1 201 broadcast
 frame-relay map ip 172.16.124.2 201
 frame-relay map ip 172.16.124.3 201
!
router eigrp 1
 network 10.0.0.0
 network 172.16.0.0
 no auto-summary
 neighbor 172.16.124.1 Serial0/0

! R4
interface Loopback1
 ip address 10.3.1.1 255.255.224.0
!
interface Loopback33
 ip address 10.3.33.1 255.255.224.0
!
interface Loopback65
 ip address 10.3.65.1 255.255.224.0
!
interface Loopback97
 ip address 10.3.97.1 255.255.224.0
!
interface Loopback129
 ip address 10.3.129.1 255.255.224.0
!
interface Loopback161
 ip address 10.3.161.1 255.255.224.0
!
interface Serial0/0
 description EAST/FR-->FR
 bandwidth 64
 ip address 172.16.124.3 255.255.255.248
 encapsulation frame-relay IETF
 ip summary-address eigrp 1 10.3.0.0 255.255.0.0 5
 clock rate 2000000
 frame-relay map ip 172.16.124.1 301 broadcast
 frame-relay map ip 172.16.124.2 301
 frame-relay map ip 172.16.124.3 301
!
router eigrp 1
 network 10.0.0.0
 network 172.16.0.0
 no auto-summary
 neighbor 172.16.124.1 Serial0/0

! R3
interface Serial0/0
 description FR-->HQ/R1
 no ip address
 encapsulation frame-relay IETF
 clock rate 128000
 frame-relay lmi-type cisco
 frame-relay intf-type dce
 frame-relay route 102 interface Serial0/1 201
 frame-relay route 103 interface Serial0/2 301
!
interface Serial0/1
 description FR-->EAST/R2
 no ip address
 encapsulation frame-relay IETF
 clock rate 2000000
 frame-relay lmi-type cisco
 frame-relay intf-type dce
 frame-relay route 201 interface Serial0/0 102
!
interface Serial0/2
 description FR-->R3/WEST
 no ip address
 encapsulation frame-relay IETF
 clock rate 2000000
 frame-relay lmi-type cisco
 frame-relay intf-type dce
 frame-relay route 301 interface Serial0/0 103



! #########################################################################
! Lab 2-5 EIGRP Authentication and Timers
!
! File: RTR.Lab.2-5.EIGRP.Auth.Timer
!
! Procedures:
! 1. Configure the hostname and interfce addresses
! 2. Configure basic EIGRP
!   a. Configure EIGRP with AS 1
!   b. Verify neighbors
!   c. Verify connectivity with tclsh
! 3. Configure Fauthentication keys
!   a. Assign key chain
!   b. Verify key chain
! 4. Configure EIGRP link authentication
!   a. Apply key and authentication to interfaces
!   b. Verify authentication and keys
!   c. Verify authentication exchanges
! 5. Manipulate EIGRP timers
!   a. Dis[play current time intervals
!   b. Modify hello intervals on R1 & R2
!   c. Verify time interval changes
!   d. Verify neighbors
!   e. Configure timers to seerial interfaces
!   f. Verify neighbors and timer changes
!   g. Verify coonnectivity
! 
!
! 1. Configure the hostname and interfce addresses
!
! R1
hostname R1
!
interface Loopback1
 ip address 192.168.1.1 255.255.255.0
!
interface FastEthernet0/0
 ip address 10.1.1.1 255.255.255.0
 no shutdown
!
interface Serial0/0
 ip address 172.16.12.1 255.255.255.248
 clock rate 64000
 bandwidth 64
 no shutdown
!
interface Serial0/1
 ip address 172.16.13.1 255.255.255.248
 bandwidth 64
 no shutdown

! R2
hostname R2
!
interface Loopback2
 ip address 192.168.2.2 255.255.255.0
!
interface FastEthernet0/0
 ip address 10.1.1.2 255.255.255.0
 no shutdown
!
interface Serial0/0
 ip address 172.16.12.2 255.255.255.248
 bandwidth 64
 no shutdown
!
interface Serial0/1
 ip address 172.16.23.2 255.255.255.248
 clock rate 64000
 bandwidth 64
 no shutdown

! R3
hostname R3
!
interface Loopback3
 ip address 192.168.3.3 255.255.255.0
!
interface FastEthernet0/0
 ip address 10.1.1.3 255.255.255.0
 no shutdown
!
interface Serial0/0
 ip address 172.16.13.3 255.255.255.248
 clock rate 64000
 bandwidth 64
 no shutdown
!
interface Serial0/1
 ip address 172.16.23.3 255.255.255.248
 bandwidth 64
 no shutdown

! 2. Configure basic EIGRP on R1~R3
!  a. Configure EIGRP with AS 1 
!
! R1
router eig 1
 no au
 net 172.16.0.0
 net 10.0.0.0
 net 192.168.1.0

! R2
router eig 1
 no au
 net 172.16.0.0
 net 10.0.0.0
 net 192.168.2.0

! R3
router eig 1
 no au
 net 172.16.0.0
 net 10.0.0.0
 net 192.168.3.0

! b. Verify neighbors
do sh ip eig nei

! c. Verify connectivity with tclsh
end
tclsh

foreach addr {
 10.1.1.1
 172.16.12.1
 172.16.13.1
 192.168.1.1
 10.1.1.2
 172.16.12.2
 172.16.23.2
 192.168.2.2
 10.1.1.3
 172.16.13.3
 172.16.23.3
 192.168.3.3
} { ping $addr }

exit
conf t

! 3. Configure Fauthentication keys
!  a. Assign key chain on R1~R3
key chain EIGRP_KEYS
 key 1
  key-string cisco

! b. Verify key chain
do sh key chain

! 4. Configure EIGRP link authentication
!  a. Apply key and authentication to interfaces on R1~R3
int fs0/0
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 ip authentication mode eigrp 1 md5

int s0/1
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 ip authentication mode eigrp 1 mod5

int f0/0
 ip authentication key-chain eigrp 1 EIGRP_KEYS 
 ip authentication mode eigrp 1 md5

! b. Verify authentication and keys
do sh ip eig interfaces detal

! c. Verify authentication exchanges on R1
do deb eig packets

do un all

! 5. Manipulate EIGRP timers on R1 & R2
!  a. Display current time intervals
do sh ip eig int det

! b. Modify hello intervals 
! c. Verify time interval changes
! d. Verify neighbors
int s0/0
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8

do sh ip eig int det s0/0

do sh ip eig nei

! e. Configure timers to seerial interfaces on R1~R3
!
! R1 & R2
int s0/1
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8

! R3
int s0/0
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
int s0/1
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 
! f. Verify neighbors and timer changes on R1
do sh ip eig nei

do sh ip eig int det

! g. Verify coonnectivity
!   As Step 2.c

!
! Running Configuration
!
! R1
interface Loopback1
 ip address 192.168.1.1 255.255.255.0
!
interface FastEthernet0/0
 ip address 10.1.1.1 255.255.255.0
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 duplex auto
 speed auto
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.12.1 255.255.255.248
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 clock rate 64000
!
interface Serial0/1
 bandwidth 64
 ip address 172.16.13.1 255.255.255.248
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 clock rate 2000000
!
router eigrp 1
 network 10.0.0.0
 network 172.16.0.0
 network 192.168.1.0
 no auto-summary

! R2
interface Loopback2
 ip address 192.168.2.2 255.255.255.0
!
interface FastEthernet0/0
 ip address 10.1.1.2 255.255.255.0
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 duplex auto
 speed auto
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.12.2 255.255.255.248
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 clock rate 2000000
!
interface Serial0/1
 bandwidth 64
 ip address 172.16.23.2 255.255.255.248
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 clock rate 64000
!
router eigrp 1
 network 10.0.0.0
 network 172.16.0.0
 network 192.168.2.0
 no auto-summary

! R3
interface Loopback3
 ip address 192.168.3.3 255.255.255.0
!
interface FastEthernet0/0
 ip address 10.1.1.3 255.255.255.0
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 duplex auto
 speed auto
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.13.3 255.255.255.248
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 clock rate 64000
!
interface Serial0/1
 bandwidth 64
 ip address 172.16.23.3 255.255.255.248
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 clock rate 2000000
!
router eigrp 1
 network 10.0.0.0
 network 172.16.0.0
 network 192.168.3.0
 no auto-summary


! #########################################################################
! Lab 2-6 EIGRP Challenge Lab
!
! File: RTR.Lab.2-6.EIGRP.Challenge
!
! Procedures:
! 1. Configure interfaces and addressing
! 2. Configure EIGRP AS 1
! 3. Disable auto-summarization
! 4. Configure R4 summary to the most
! 5. No multicast EIGRP hellos btw R1 & R2
! 6. Modify hello timers with 2 seconds btw R2 & R3
! 7. Use MD5 authentication with key="cisco"
! 8. Verify connectivity with tclsh
! 
!
! 1. Configure interfaces and addressing
!
! R1
int lo0
 ip add 172.16.1.1 255.255.255.0

int s0/0
 enc ppp
 clock rate 64000
 band 64
 ip add 172.16.12.1 255.255.255.0
 no shut

! R2
int lo0
 ip add 172.16.2.1 255.255.255.0

int s0/0
 enc ppp
 ip add 172.16.12.2 255.255.255.0
 no shut

int s0/1
 enc ppp
 clock rate 64000
 band 64
 ip add 172.16.23.2 255.255.255.0
 no shut

! R3
int lo0
 ip add 172.16.3.1 255.255.255.224
int lo1
 ip add 172.16.3.33 255.255.255.224
int lo2
 ip add 172.16.3.65 255.255.255.224
int lo3
 ip add 172.16.3.97 255.255.255.224

int s0/0
 enc ppp
 ip add 172.16.23.3 255.255.255.0
 no shut

int s0/1
 enc ppp
 clock rate 64000
 band 64
 ip add 172.16.34.3 255.255.255.0
 no shut

! R4
int lo0
 ip add 172.16.4.1 255.255.255.224
int lo1
 ip add 172.16.4.33 255.255.255.224
int lo2
 ip add 172.16.4.65 255.255.255.224
int lo3
 ip add 172.16.4.97 255.255.255.224

int s0/0
 enc ppp
 ip add 172.16.34.4 255.255.255.0
 no shut

! 2. Configure EIGRP AS 1
router eig 1
 net 172.16.0.0

! 3. Disable auto-summarization
router eig 1
 no au

! 4. Configure R4 summary to the most
int s0/0
 ip summary-address eig 1 172.16.4.0 255.255.255.128

! 5. No multicast EIGRP hellos btw R1 & R2
!
! R1
router eig 1
 nei 172.16.12.2 s0/0

! R2
router eig 1
 nei 172.16.12.1 s0/0

! 6. Modify hello timers with 2 seconds btw R2 & R3
!
! R2
int s0/1
 ip hello-interval eig 1 2
 ip hold-time eig 1 8

! R3
int s0/0
 ip hello-interval eig 1 2
 ip hold-time eig 1 8

! 7. Use MD5 authentication with key="cisco" btw R3 & R4
key chain EIGRP_KEYS
 key 1
  key-string cisco

! R3
int s0/1
 ip authentication key-chain eig 1 EIGRP_KEYS
 ip authentication mode eig 1 md5

! R4
int s0/0
 ip authentication key-chain eig 1 EIGRP_KEYS
 ip authentication mode eig 1 md5

! 8. Verify connectivity with tclsh
end 
tclsh

foreach addr {
 172.16.1.1
 172.16.2.1
 172.16.3.1
 172.16.3.33
 172.16.3.65
 172.16.3.97
 172.16.4.1
 172.16.4.33
 172.16.4.65
 172.16.4.97
} {ping $addr }

exit
conf t

!
! RUnnign Configuration
!
! R1
interface Loopback0
 ip address 172.16.1.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.12.1 255.255.255.0
 encapsulation ppp
 clock rate 64000
!
router eigrp 1
 network 172.16.0.0
 no auto-summary
 neighbor 172.16.12.2 Serial0/0

! R2
interface Loopback0
 ip address 172.16.2.1 255.255.255.0
!
interface Serial0/0
 ip address 172.16.12.2 255.255.255.0
 encapsulation ppp
 clock rate 2000000
!         
interface Serial0/1
 bandwidth 64
 ip address 172.16.23.2 255.255.255.0
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 encapsulation ppp
 clock rate 64000
!
router eigrp 1
 network 172.16.0.0
 no auto-summary
 neighbor 172.16.12.1 Serial0/0

! R3
key chain EIGRP_KEYS
 key 1
   key-string cisco
!
interface Loopback0
 ip address 172.16.3.1 255.255.255.224
!
interface Loopback1
 ip address 172.16.3.33 255.255.255.224
!
interface Loopback2
 ip address 172.16.3.65 255.255.255.224
!
interface Loopback3
 ip address 172.16.3.97 255.255.255.224
!
interface Serial0/0
 ip address 172.16.23.3 255.255.255.0
 ip hello-interval eigrp 1 2
 ip hold-time eigrp 1 8
 encapsulation ppp
 clock rate 2000000
!
interface Serial0/1
 bandwidth 64
 ip address 172.16.34.3 255.255.255.0
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 encapsulation ppp
 clock rate 64000
!         
router eigrp 1
 network 172.16.0.0
 no auto-summary

! R4
key chain EIGRP_KEYS
 key 1
   key-string cisco
!
interface Loopback0
 ip address 172.16.4.1 255.255.255.224
!
interface Loopback1
 ip address 172.16.4.33 255.255.255.224
!
interface Loopback2
 ip address 172.16.4.65 255.255.255.224
!
interface Loopback3
 ip address 172.16.4.97 255.255.255.224
!
interface Serial0/0
 ip address 172.16.34.4 255.255.255.0
 ip authentication mode eigrp 1 md5
 ip authentication key-chain eigrp 1 EIGRP_KEYS
 encapsulation ppp
 ip summary-address eigrp 1 172.16.4.0 255.255.255.128 5
 clock rate 2000000
!
router eigrp 1
 network 172.16.0.0
 no auto-summary


! #########################################################################
! Lab 2-7 Troubleshooting EIGRP
!
! File: RTR.Lab.2-7.EIGRP.Troubleshooting
!
! Requirements:
! 1. IP addressing as shown
! 2. All routers participate in EIGRP AS 1
! 3. All networks in EIGRP AS 1
! 4. No static routes, default routes, or other routing protocols
! 5. All IP addresses reaches from all routers
! 
!
! Initial Configureation
!
! R1
hostname R1
!
interface Loopback0
 ip address 10.1.1.1 255.255.255.0
!
interface Serial0/0
 ip address 172.16.21.1 255.255.255.0
 clock rate 64000
 bandwidth 64
 no shutdown
!
router eigrp 1
 network 10.1.1.0 0.0.0.255
 network 172.16.12.0 0.0.0.255
 auto-summary

! R2
hostname R2
!
interface Loopback0
 ip address 172.16.2.1 255.255.255.0
!
interface Serial0/0
 ip address 172.16.12.2 255.255.255.0
 bandwidth 64
 no shutdown
!
interface Serial0/1
 ip address 172.16.23.2 255.255.255.0
 clock rate 64000
 bandwidth 64
 no shutdown
!
router eigrp 1
 network 172.16.2.0 0.0.0.255
 network 172.16.12.0 0.0.0.255
 network 172.16.23.0 0.0.0.255
 no auto-summary

! R3
hostname R3
!
interface Loopback0
 ip address 172.16.3.1 255.255.255.0
!
interface Serial0/0
 ip address 172.16.23.3 255.255.255.0
 bandwidth 64
 no shutdown
!
interface Serial0/1
 ip address 172.16.34.3 255.255.255.0
 clock rate 64000
 bandwidth 64
 no shutdown
!
router eigrp 1
 network 172.16.23.0 0.0.0.255
 network 172.16.30.0 0.0.0.255
 network 172.16.34.0 0.0.0.255
 no auto-summary

! R4
hostname R4
!
interface Loopback0
 ip address 10.1.4.1 255.255.255.0
!
 interface Serial0/0
 ip address 172.16.34.4 255.255.255.0
 bandwidth 64
 no shutdown
!
 router eigrp 100
 network 10.1.4.0 0.0.0.255
 network 172.16.34.0 0.0.0.255
 auto-summary

! Verify connectivity
end
tclsh

foreach addr {
10.1.1.1
172.16.12.1
172.16.12.2
172.16.2.1
172.16.12.2
172.16.23.2
172.16.3.1
172.16.23.3
172.16.34.3
172.16.34.4
10.1.4.1
} { ping $addr}

exit
conf t

!
! Running Configuration
!
! R1
interface Loopback0
 ip address 10.1.1.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.12.1 255.255.255.0
 clock rate 64000
!         
router eigrp 1
 network 10.1.1.0 0.0.0.255
 network 172.16.12.0 0.0.0.255
 no auto-summary

! R2
interface Loopback0
 ip address 172.16.2.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.12.2 255.255.255.0
 clock rate 2000000
!         
interface Serial0/1
 bandwidth 64
 ip address 172.16.23.2 255.255.255.0
 clock rate 64000
!
router eigrp 1
 network 172.16.2.0 0.0.0.255
 network 172.16.12.0 0.0.0.255
 network 172.16.23.0 0.0.0.255
 no auto-summary

! R3
interface Loopback0
 ip address 172.16.3.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.23.3 255.255.255.0
 clock rate 2000000
!         
interface Serial0/1
 bandwidth 64
 ip address 172.16.34.3 255.255.255.0
 clock rate 64000
!
router eigrp 1
 network 172.16.3.0 0.0.0.255
 network 172.16.23.0 0.0.0.255
 network 172.16.34.0 0.0.0.255
 no auto-summary

! R4
interface Loopback0
 ip address 10.1.4.1 255.255.255.0
!
interface Serial0/0
 bandwidth 64
 ip address 172.16.34.4 255.255.255.0
 clock rate 2000000
!
router eigrp 1
 network 10.1.4.0 0.0.0.255
 network 172.16.34.0 0.0.0.255
 no auto-summary



!############### EXAMPLES ############################################

!#####################################################################
! Chapter 2 Example EIGRP Basic Network 01
!
! File: RTR.Ch2-ex.EIGRP.Basic-01
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP
!  3. Verify EIGRP
!
!
! 1. Configure router interfaces and addressing
!
! R1
int lo0
 ip add 10.10.10.1 255.255.255.0

int s0/0
 ip add 192.168.1.97 255.255.255.252
 enc ppp
 no shut

! R2
int lo0
 ip add 10.20.20.1 255.255.255.0

int s0/0
 ip add 192.168.1.98 255.255.255.252
 enc ppp
 no shut

! 2. Configure EIGRP
router eig 100
 net 10.0.0.0
 net 192.168.1.0

! 3. Verify EIGRP
do sh ip eig 100 nei
do sh ip eig 100 top
do sh ip rou eig



!#####################################################################
! Chapter 2 Example EIGRP Defult Routes
!
! File: RTR.Ch2-ex.EIGRP.Default.Routes-01
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP
!  4. Configure deafult route with default-network
!  3. Verify EIGRP
!
! 1. Configure router interfaces and addressing
!
! R1
int lo0
 ip add 172.16.1.1 255.255.255.0

int s0/0
 ip add 192.168.1.101 255.255.255.224
 enc ppp
 band 64
 no shut

! R2
int lo0
 ip add 172.17.2.1 255.255.255.0

int s0/0
 ip add 192.168.1.102 255.255.255.224
 enc ppp
 clock rate 64000
 band 64
 no shut

int s0/1
 ip add 192.168.1.1 255.255.255.224
 enc ppp
 no shut

! R3
int lo0
 ip add 172.31.0.1 255.255.0.0

int s0/0
 ip add 192.168.1.2 255.255.255.224
 enc ppp
 no shut

! 2. Configure EIGRP
!
! R1
router eig 100
 no au
 net 192.168.1.96 0.0.0.31
 net 172.16.1.0 0.0.0.255

! R2
router eig 100
 no au
 net 192.168.1.96 0.0.0.31
 net 172.17.2.0 0.0.0.255

! 3. Configure default route
ip route 172.31.0.0 255.255.0.0 192.168.1.2

do pi 172.31.0.0

ip default-network 172.31.0.0

router eig 100
 red static

! 4. Verify EIGRP
do sh ip eig 100 nei

do sh ip eig 100 top

do sh ip rou eig

! NB: the last resource gateway, D*EX, S*, etc.


!#####################################################################
! Chapter 2 Example EIGRP Defult Route
!
! File: RTR.Ch2-ex.EIGRP.Default.Routes-02
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP
!  3. Configure deafult route with default-network
!  3. Verify EIGRP
!
! 1. Configure router interfaces and addressing
! 2. Configure EIGRP
!
! Same as RTR.Ch2-ex.EIGRP.Default.Routes-01

! 3. Configure deafult route with default-network
!
! R2
ip route 0.0.0.0 0.0.0.0 192.168.1.2

router eig 100
 net 0.0.0.0
 red stat

! 4. Verify EIGRP
do sh ip eig 100 nei

do sh ip eig 100 top

do sh ip rou eig



!#####################################################################
! Chapter 2 Example EIGRP Summarization
!
! File: RTR.Ch2-ex.EIGRP.Summarization-01
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure Summarization in discontiguous
!  3. Verify EIGRP
!  4. Configure EIGRP w/0 auto-summary
!  5. Verify EIGRP
!
!
! 1. Configure router interfaces and addressing
!  Same configuration as RTR.Ch2-ex.EIGRP.Basic-01

! 2. Configure Summarization in discontiguous
!
! R1
router eig 100
 passive-interface lo0
 net 10.10.10.0 0.0.0.255
 net 192.168.1.96 0.0.0.3
 auto-summary

!
! R2
router eig 100
 passive-interface lo0
 net 10.20.20.0 0.0.0.255
 net 192.168.1.96 0.0.0.3
 auto-summary

! 3. Verify EIGRP
do sh ip pro

do sh ip rou

! 4. Configure EIGRP w/0 auto-summary
router eig 100
 no auto-summary
 
! 5. Verify EIGRP
do sh ip pro

do sh ip rou


!#####################################################################
! Chapter 2 Example EIGRP Route Summarization 
!
! File: RTR.Ch2-ex.EIGRP.Summarization-02
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP
!  3. Verify EIGRP
!  4. Configure EIGRP Suammarization
!  5. Verify EIGRP
!
!
! 1. Configure router interfaces and addressing
!
! R1
int lo0
 ip add 10.10.10.1 255.255.255.0

int s0/0
 enc ppp
 ip add 10.0.13.1 255.255.255.0
 no shut

! R2
int lo0
 ip add 10.10.20.1 255.255.255.0

int s0/0
 enc ppp
 ip add 10.0.23.2 255.255.255.0
 no shut

! R3
int s0/0
 enc ppp
 ip add 10.0.13.3 255.255.255.0
 no shut

int s0/1
 enc ppp
 ip add 10.0.23.3 255.255.255.0
 no shut

int s0/2
 enc ppp
 ip add 192.168.3.2 255.255.255.252
 no shut

! WAN
int s0/0
 enc ppp
 ip add 192.168.3.1 255.255.255.252
 no shut

! Verify direct connectivity

! 2. Configure EIGRP
!
! R1
router eig 100
 no au
 net 10.10.10.0 0.0.0.255
 net 10.0.13.0 0.0.0.255

! R2
router eig 100
 no au
 net 10.10.20.0 0.0.0.255
 net 10.0.23.0 0.0.0.255

! R3
router eig 100
 no au
 net 10.0.13.0 0.0.0.255
 net 10.0.23.0 0.0.0.255
 net 192.168.3.0 0.0.0.3

! WAN
router eig 100
 no au 
 net 192.168.3.0 0.0.0.3

! 3. Verify EIGRP
do sh ip eig 100 nei

do sh ip eig 100 top

do sh ip rou

! 4. Configure EIGRP Suammarization
!
! R3
int s0/2
 ip summary-address eigrp 100 10.10.0.0 255.255.224.0

! 5. Verify EIGRP
do sh ip eig 100 nei

do sh ip eig 100 top

do sh ip rou



!#####################################################################
! Chapter 2 Example EIGRP over Frame Relay on a physical interface
!
! File: RTR.Ch2-ex.EIGRP.FR-01
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP with dynamic mapping
!  3. Verify EIGRP
!  4. Configure EIGRP with static mapping
!  5. Verify EIGRP
!
!
! 1. Configure router interfaces and addressing
!
! R1
int lo0
 ip add 172.16.1.1 255.255.255.0

int s0/0
 ip add 192.168.1.101 255.255.255.0
 enc fra ietf
 no shut

! R2
int lo0
 ip add 172.16.2.1 255.255.255.0

int s0/0
 ip add 192.168.1.102 255.255.255.0
 enc fra ietf
 no shut

! R3
int lo0
 ip add 172.16.3.1 255.255.255.0

int s0/0
 ip add 192.168.1.103 255.255.255.0
 enc fra ietf
 no shut

! 2. Configure EIGRP with dynamic mapping
router eigrp 100
 net 172.16.0.0
 net 192.168.1.0

! 3. Verify EIGRP
do sh ip eig nei
do sh ip eig top
do sh ip rou 

! 4. Configure FR with static mapping
!
! R1
int s0/0
 fram map ip 192.168.1.102 102 bro
 fram map ip 192.168.1.103 103 bro

! R2
int s0/0
 fram map ip 192.168.1.101 201 bro
 fram map ip 192.168.1.103 201

! R3
int s0/0
 fram map ip 192.168.1.101 301 bro
 fram map ip 192.168.1.102 301


! 5. Verify EIGRP & connectivity
do sh ip eig nei
do sh ip eig top
do sh ip rou 

! Verify connectivity
end 
tclsh

foreach addr {
 172.16.1.1
 172.16.2.1
 172.16.3.1
 192.168.1.101
 192.168.1.102
 192.168.1.103
} { ping $addr }

exit
conf t


!#####################################################################
! Chapter 2 Example EIGRP over Frame Relay Multipoint Subinterfaces
!
! File: RTR.Ch2-ex.EIGRP.FR-02
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP with dynamic mapping
!  3. Configure FR multipoint subinterfaces
!  4. Verify EIGRP & Connectivity
!  5. Configure unicast neighbor on R1 & R2
!  6. Verify EIGRP & Connectivity
!
! 1. Configure router interfaces and addressing
!
! R1
int lo0
 ip add 172.16.1.1 255.255.255.0

int s0/0
 no ip address
 enc fra ietf
 no shut

int s0/0.1 multipoint
 ip add 192.168.1.101 255.255.255.0
 no shut

! R2
int lo0
 ip add 172.16.2.1 255.255.255.0

int s0/0
 ip add 192.168.1.102 255.255.255.0
 enc fra ietf
 no shut

! R3
int lo0
 ip add 172.16.3.1 255.255.255.0

int s0/0
 ip add 192.168.1.103 255.255.255.0
 enc fra ietf
 no shut

! 2. Configure EIGRP with dynamic mapping
router eigrp 100
 no au
 net 172.16.0.0
 net 192.168.1.0

! 3. Configure FR multipoint subinterfaces
!
! R1
int s0/0.1
 no ip split-horizon eigrp 100
 fram map ip 192.168.1.102 102 bro
 fram map ip 192.168.1.103 103 bro

! R2
int s0/0
 fram map ip 192.168.1.101 201 bro
 fram map ip 192.168.1.103 201 

! R3
int s0/0
 fram map ip 192.168.1.101 301 bro
 fram map ip 192.168.1.102 301

! 4. Verify EIGRP & Connectivity
! Same as RTR.Ch2-ex.EIGRP.FR-01 Step 5

! 5. Configure unicast neighbor on R1 & R2
!
! R1
router eig 100
 nei 192.168.1.102 s0/0.1
 nei 192.168.1.103 s0/0.1

! R2
default int s0/0

int s0/0
 no ip addr
 enc fra ietf

int s0/0.1 multipoint
 ip add 192.168.1.102 255.255.255.0
 fram map ip 192.168.1.101 201 broadcas
 fram map ip 192.168.1.103 201

router eig 100
 neighbor 192.168.1.101 s0/0.1

! R3
default int s0/0

int s0/0
 no ip addr
 enc fra ietf

int s0/0.1 multipoint
 ip add 192.168.1.103 255.255.255.0
 fram map ip 192.168.1.101 301 broadcas
 fram map ip 192.168.1.102 301

router eig 100
 neighbor 192.168.1.101 s0/0.1

! 6. Verify EIGRP & Connectivity
! Same as RTR.Ch2-ex.EIGRP.FR-01 Step 5


!#####################################################################
! Chapter 2 Example EIGRP over Frame Relay Point-to-Point 
!                   Subinterfaces
!
! File: RTR.Ch2-ex.EIGRP.FR-03
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP with dynamic mapping
!  3. Configure FR point-to-point subinterfaces
!  4. Verify EIGRP & Connectivity
!
! R1
int lo0
 ip add 172.16.1.1 255.255.255.0

int s0/0
 no ip address
 enc fra ietf
 no shut

int s0/0.2 point-to-point
 ip add 192.168.2.101 255.255.255.0
 no shut

int s0/0.3 point-to-point
 ip add 192.168.3.101 255.255.255.0
 no shut

! R2
int lo0
 ip add 172.16.2.1 255.255.255.0

int s0/0
 no ip address
 enc fra ietf
 no shut

int s0/0.1 point-to-point
 ip add 192.168.2.102 255.255.255.0
 no shut

! R3
int lo0
 ip add 172.16.3.1 255.255.255.0

int s0/0
 no ip address
 enc fra ietf
 no shut

int s0/0.1 point-to-point
 ip add 192.168.3.103 255.255.255.0
 no shut

! 2. Configure EIGRP with dynamic mapping
!
! R1
router eigrp 100
 no au
 net 172.16.1.0 0.0.0.255
 net 192.168.2.0
 net 192.168.3.0

! R2
router eigrp 100
 no au
 net 172.16.2.0 0.0.0.255
 net 192.168.2.0

! R3
router eigrp 100
 no au
 net 172.16.3.0 0.0.0.255
 net 192.168.3.0

! 3. Configure FR point-to-point subinterfaces
!
! R1
int s0/0.2
 frame-relay interface-dlci 102

int s0/0.3
 frame-relay interface-dlci 103

! R2
int s0/0.1
 frame-relay interface-dlci 201

! R3
int s0/0.1
 frame-relay interface-dlci 301

! 4. Verify EIGRP & Connectivity
do sh ip eig 100 nei
do sh ip eig 100 top
do sh ip rou

end
tclsh

foreach addr {
 172.16.1.1
 172.16.2.1
 172.16.3.1
 192.168.2.101
 192.168.3.101
 192.168.2.102
 192.168.3.103
} { ping $addr}

exit

conf t


!#####################################################################
! Chapter 2 Example EIGRP MD5 Authentication
!
! File: RTR.Ch2-ex.EIGRP.MD5-01
!
! Procedures:
!  1. Configure router interfaces and addressing
!  2. Configure EIGRP
!  3. Verify EIGRP
!  4. Configure MD5 Authentication
!  5. Verify Authentication
!
! 1. Configure router interfaces and addressing
! 2. Configure EIGRP
! 3. Verify EIGRP
!  Same as Lin 1493 - RTR.Ch2-ex.EIGRP.Basic-01

! 4. Configure MD5 Authentication
do deb eig packet

key chain EIGRP_KEYS
 key 1
  key-string cisco

int s0/0
 ip authentication key-chain eigrp 100 EIGRP_KEYS
 ip authentication mode eigrp 100 md5
  
! 5. Verify EIGRP, Key chain, etc.
do un all

do sh ip eig 
do sh ip eig top
do sh ip rou

do sh key chain




