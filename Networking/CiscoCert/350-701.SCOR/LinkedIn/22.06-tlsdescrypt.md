# TLS decryption

Trainer: Charles Judd


- TLS description
  - HTTPS: secure version of HTTP using TLS fro data encryption
  - monitoring HTTPS traffic issue
  - solution:
    - using decryption feature to decrypt HTTPS traffic
    - applying content-based access policies defined for the traffic
  - action options:
    - passing the encryption traffic through w/ inspection
    - dropping HTTPS connection
    - monitoring the request


- Demo: enable HTTPS detection on WSA
  - WSA dashboard > Security Services > Proxy Settings > HTTPS Proxy
  - HTTPS Proxy Settings > 'Enable and Setting...' button
  - Edit HTTPS Proxy Settings 
    - Enable HTTPS Setting = True: HTTPS Ports to Proxy = 443; Root Certificate for Signing = Use Generated Certificate and Key
    - Generate Certificate and Key > Common Name = Cisco; Organization = KWTrain; Organization Unit = Security Team; Country = US; Duration before expiration = 12 months > 'Generate' button
  - Edit HTTPS Proxy Settings: Success - Certificate and Key successfully generated. > Use Generate Certificate and Key = enabled & info  > 'Submit' button
  - Confirm Enable > 'Continue' button 
  - HTTPS Proxy > Success - Settings have been saved.


- Demo: performa HTTPS decryption
  - WSA dashboard > Web Security Manager > Web Policies > Decryption Policies
  - Decryption Policies > Policies > Fields: Group, URL Filtering, Web Reputation, Deafult Action, Delete
  - Group = Global Policy, URL Filtering = Minitor: 87 > `Monitor: 87' field
  - Description Policies: URL Filtering: Global Policy > Sections: Custom and External URL Category Filtering, Predefined URL Categories Filtering
  - Predefined URL Categories Filtering: Categories = Social Networking; Action = Decrypt


- Demo: end-user notification for decryption
  - task: alert user w/ social networking traffic encrypted, decrypted and blocked
  - WSA dashboard > Web Security Manager > Web Policies > Access Policies
  - Access Policies > Policies > fields: Group, Protocols and User Agents, URL Filtering, Applications, Objects, Anti=Malware and Reputation. Delete
  - Group = Global Policy, URL Filtering = 'Monitor: 87' > 'Monitor: 87' field
  - Access Policies: URL Filtering: Global Policy > sections: Common and External URL Category Filtering, Predefined URL Category Filtering
  - Predefined URL Category Filtering: Category = Social Networking, Action = Block




